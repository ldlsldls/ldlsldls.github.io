<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>ubuntu-sudo命令 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="123456789101112131415################## 配置二 ##################!&#x2F;bin&#x2F;sh [ -x &#x2F;etc&#x2F;vnc&#x2F;xstartup ] &amp;&amp; exec &#x2F;etc&#x2F;vnc&#x2F;xstartup[ -r $HOME&#x2F;.Xresources ] &amp;&amp; xrdb $HOME&#x2F;.Xresources xsetroot -so">
<meta property="og:type" content="article">
<meta property="og:title" content="ubuntu-sudo命令">
<meta property="og:url" content="http://example.com/2023/09/05/ubuntu-sudo%E5%91%BD%E4%BB%A4/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="123456789101112131415################## 配置二 ##################!&#x2F;bin&#x2F;sh [ -x &#x2F;etc&#x2F;vnc&#x2F;xstartup ] &amp;&amp; exec &#x2F;etc&#x2F;vnc&#x2F;xstartup[ -r $HOME&#x2F;.Xresources ] &amp;&amp; xrdb $HOME&#x2F;.Xresources xsetroot -so">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-09-04T19:07:56.000Z">
<meta property="article:modified_time" content="2023-09-05T21:24:58.104Z">
<meta property="article:author" content="ldlsldls">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-ubuntu-sudo命令" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/09/05/ubuntu-sudo%E5%91%BD%E4%BB%A4/" class="article-date">
  <time class="dt-published" datetime="2023-09-04T19:07:56.000Z" itemprop="datePublished">2023-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      ubuntu-sudo命令
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">################## 配置二 #################</span><br><span class="line">#!/bin/sh</span><br><span class="line"> </span><br><span class="line">[ -x /etc/vnc/xstartup ] &amp;&amp; exec /etc/vnc/xstartup</span><br><span class="line">[ -r $HOME/.Xresources ] &amp;&amp; xrdb $HOME/.Xresources</span><br><span class="line"> </span><br><span class="line">xsetroot -solid grey</span><br><span class="line">vncconfig -iconic &amp;</span><br><span class="line"> </span><br><span class="line">gnome-panel &amp;</span><br><span class="line">gnmoe-settings-daemon &amp;</span><br><span class="line">metacity &amp;</span><br><span class="line">nautilus &amp;</span><br><span class="line">gnome-terminal &amp;</span><br><span class="line">###################################</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qxqxqzzz/article/details/103974974">Ubuntu VNC 安装&#x2F;使用&#x2F;故障解决 看这一篇就够了_城俊BLOG的博客-CSDN博客</a></p>
<h3 id="sever"><a href="#sever" class="headerlink" title="sever"></a>sever</h3><p>参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/dvd_sun/article/details/124531184">TigerVNC安装使用__dwSun_的博客-CSDN博客</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install tigervnc-standalone-server</span><br></pre></td></tr></table></figure>

<p>其配置文件存储在 <strong>~&#x2F;.vnc</strong> 目录下，所以下面看到的所有配置，都没有以 sudo 执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncpasswd</span><br></pre></td></tr></table></figure>

<p>编辑 <strong>~&#x2F;.vnc&#x2F;xstartup</strong> 文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line">[ -x /etc/vnc/xstartup ] &amp;&amp; exec /etc/vnc/xstartup</span><br><span class="line"></span><br><span class="line">[ -r $HOME/.Xresources ] &amp;&amp; xrdb $HOME/.Xresources</span><br><span class="line"></span><br><span class="line">vncconfig -iconic &amp;</span><br><span class="line"></span><br><span class="line">dbus-launch --exit-with-session gnome-session &amp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod a+x ~/.vnc/xstartup</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver :2 -name ldlsldls3 -depth 16 -geometry 768x1024 -localhost no </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver -depth 24 -geometry 1280x720 -localhost no</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver -list</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver -kill :2</span><br></pre></td></tr></table></figure>

<p>这里的参数意义：</p>
<ul>
<li>depth，使用的色彩，一般不需要设置，如果带宽非常低，可以使用 8&#x2F;16 等值来设置比较低的色彩配置，降低数据量，减少带宽使用</li>
<li>geometry，连接后的分辨率，按照需要设置即可</li>
<li>localhost，由于 vnc 本身并不使用安全连接，所以默认只能在 127.0.0.1 地址上进行访问，但这就没有任何意义了，所以指定该参数为 no，保证远程可以访问</li>
<li>name</li>
<li>:1 这里是 vnc 比较有趣的一个地方，因为 vnc 的本意就是让多个使用者(这里指远程 GUI 界面的用户，区别于 Linux 系统的用户)同时使用 GUI 界面，而且是同一个用户，可以提供多个使用者远程使用。那么如何区分这些使用者，就成了一个问题。VNC 协议给出的解决方案是，给每一个使用者一个编号，并根据编号分配给使用者一个端口进行连接，从 5901 开始，例如上述命令代表在 5901 端口起动了编号1的 vncserver，换成:2 则是在 5902 端口起动了编号为 2 的 vncserver。</li>
</ul>
<p>在 VNC Server 处填写服务器地址和端口，如想要连接 38 服务器，编号 3 的 VNC Server，填写：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">192.168.1.38:5903</span><br><span class="line"></span><br><span class="line">ldlsldls3:1</span><br><span class="line">// ldlsldls3 为主机名，可以替换为 IP 地址</span><br><span class="line">// 1 为启动 vncserver 服务时，命令行里跟的编号</span><br></pre></td></tr></table></figure>

<p>开机启动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gnome-session-properties</span><br><span class="line">vncserver :2 -name ldlsldls3 -depth 16 -geometry 768x1024 -localhost no</span><br></pre></td></tr></table></figure>





<h3 id="v01-Linux环境搭建"><a href="#v01-Linux环境搭建" class="headerlink" title="v01_Linux环境搭建"></a>v01_Linux环境搭建</h3><p>ubuntu18</p>
<h6 id="Linux基本操作"><a href="#Linux基本操作" class="headerlink" title="Linux基本操作"></a>Linux基本操作</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">sudo [name]</span><br><span class="line"></span><br><span class="line">clear</span><br><span class="line"></span><br><span class="line">Ctrl + Z   # 暂停命令</span><br><span class="line">jobs       # 查看作业列表</span><br><span class="line">[1]+  Stopped    tail -n 100</span><br><span class="line">kill %1    # 终止作业</span><br><span class="line"></span><br><span class="line">pwd</span><br><span class="line">ll</span><br><span class="line">ls</span><br><span class="line">ls | grep -q autoconf.sh &amp;&amp; echo &quot;exist&quot; || echo &quot;not exist&quot;</span><br><span class="line">tree</span><br><span class="line"></span><br><span class="line">cd [name]</span><br><span class="line">cd ..</span><br><span class="line">cd /</span><br><span class="line">cd ~</span><br><span class="line">cd /home</span><br><span class="line"></span><br><span class="line">chmod 777 [filename]</span><br><span class="line"></span><br><span class="line">sudo apt-get install xclip</span><br><span class="line"></span><br><span class="line"># 十条命令复制到剪切板</span><br><span class="line">history | tail -n 10 | head -n 9 | awk &#x27;&#123;$1=&quot;&quot;; sub(&quot;^ &quot;, &quot;&quot;); print $0&#125;&#x27; | xclip -selection clipboard</span><br><span class="line"></span><br><span class="line"># 全部命令及其结果复制到剪切板</span><br><span class="line">a + h</span><br></pre></td></tr></table></figure>



<h6 id="改root密码"><a href="#改root密码" class="headerlink" title="改root密码"></a>改root密码</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br><span class="line">su root</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>



<h6 id="换软件源"><a href="#换软件源" class="headerlink" title="换软件源"></a>换软件源</h6><p><a target="_blank" rel="noopener" href="https://developer.aliyun.com/mirror/ubuntu?spm=a2c6h.13651102.0.0.3e221b11YgAWt2">https://developer.aliyun.com/mirror/ubuntu?spm=a2c6h.13651102.0.0.3e221b11YgAWt2</a><br><a target="_blank" rel="noopener" href="http://mirrors.ustc.edu.cn/help/ubuntu.html">http://mirrors.ustc.edu.cn/help/ubuntu.html</a><br><a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade -y</span><br><span class="line">sudo apt --fix-broken install</span><br><span class="line">sudo apt autoremove</span><br></pre></td></tr></table></figure>



<h6 id="安装基本的软件包"><a href="#安装基本的软件包" class="headerlink" title="安装基本的软件包"></a>安装基本的软件包</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install aptitude gparted make git gcc g++ gdb curl unzip tree xclip</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /home</span><br><span class="line">sudo mkdir program_777</span><br><span class="line">sudo mkdir program_700</span><br><span class="line">sudo chmod 777 program_777/</span><br><span class="line">sudo chmod 700 program_700</span><br><span class="line">sudo mkdir download</span><br><span class="line">git config --global --add safe.directory /home/download/[git_project]</span><br></pre></td></tr></table></figure>





<h3 id="v02-软件安装"><a href="#v02-软件安装" class="headerlink" title="v02_软件安装"></a>v02_软件安装</h3><h6 id="下载iverilog源码"><a href="#下载iverilog源码" class="headerlink" title="下载iverilog源码"></a>下载iverilog源码</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/steveicarus/iverilog.git</span><br></pre></td></tr></table></figure>

<p>切换到v11分支(必须用V11或以上的版本)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd iverilog</span><br><span class="line">git config --global --add safe.directory /home/download/iverilog</span><br><span class="line">git checkout v11-branch</span><br></pre></td></tr></table></figure>

<p>安装依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install autoconf gperf flex bison build-essential</span><br></pre></td></tr></table></figure>

<p>编译、安装iverilog和vvp</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sh autoconf.sh</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p>创建python软链接<br>sudo ln -s &#x2F;usr&#x2F;bin&#x2F;python3.8 &#x2F;usr&#x2F;bin&#x2F;python</p>
<p>其中&#x2F;usr&#x2F;bin&#x2F;python3.8对应你实际安装的python版本。</p>
<p>安装gtkwave<br>sudo apt-get install gtkwave</p>
<h2 id="v01-创建虚拟机"><a href="#v01-创建虚拟机" class="headerlink" title="v01_创建虚拟机"></a>v01_创建虚拟机</h2><p><a target="_blank" rel="noopener" href="https://vlab.ustc.edu.cn/">https://vlab.ustc.edu.cn/</a></p>
<p>&#x2F;&#x2F;虚拟机信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ldl3</span><br><span class="line">虚拟机 ID</span><br><span class="line">6026</span><br><span class="line">内存占用</span><br><span class="line">409.3 MB / 4096.0 MB</span><br><span class="line">启动时间</span><br><span class="line">0 days, 0 hours, 20 minutes, 12 seconds</span><br><span class="line">登录端口（推荐）</span><br><span class="line">ssh -i vlab-vm6026.pem root@vlab.ustc.edu.cn</span><br><span class="line">登录端口（交互式）</span><br><span class="line">ssh root@vlab.ustc.edu.cn</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>&#x2F;&#x2F;tigervnc远程桌面软件</p>
<p>&#x2F;&#x2F;查看CPU信息<br>lscpu</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">架构：                           x86_64</span><br><span class="line">CPU 运行模式：                   32-bit, 64-bit</span><br><span class="line">字节序：                         Little Endian</span><br><span class="line">Address sizes:                   46 bits physical, 48 bits virtual</span><br><span class="line">CPU:                             32</span><br><span class="line">在线 CPU 列表：                  1,28</span><br><span class="line">离线 CPU 列表：                  0,2-27,29-31</span><br><span class="line">每个核的线程数：                 0</span><br><span class="line">每个座的核数：                   8</span><br><span class="line">座：                             2</span><br><span class="line">NUMA 节点：                      2</span><br><span class="line">厂商 ID：                        GenuineIntel</span><br><span class="line">CPU 系列：                       6</span><br><span class="line">型号：                           85</span><br><span class="line">型号名称：                       Intel(R) Xeon(R) Silver 4110 CPU @ 2.10GHz</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>cat &#x2F;proc&#x2F;cpuinfo |grep processor |wc -l</p>
<p>CPU核数2</p>
<p>cat &#x2F;proc&#x2F;cpuinfo |grep ‘model name’ |uniq</p>
<p>CPU型号Intel(R) Xeon(R) Silver 4110 CPU @ 2.10GHz</p>
<p>&#x2F;&#x2F;查看内存</p>
<p>grep MemTotal &#x2F;proc&#x2F;meminfo</p>
<p>MemTotal:        4194304 kB</p>
<p>cat &#x2F;proc&#x2F;meminfo</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MemTotal:        4194304 kB</span><br><span class="line">MemFree:         2635668 kB</span><br><span class="line">MemAvailable:    3738728 kB</span><br><span class="line">Buffers:               0 kB</span><br><span class="line">Cached:          1103060 kB</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>&#x2F;&#x2F;查看硬盘</p>
<p>lsblk</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda      8:0    0 447.1G  0 disk </span><br><span class="line">\u251c\u2500sda1   8:1        512M  0 part </span><br><span class="line">\u2514\u2500sda2   8:2    0 446.6G  0 part </span><br><span class="line">sdb      8:16   0 447.1G  0 disk </span><br><span class="line">\u251c\u2500sdb1   8:17       512M  0 part </span><br><span class="line">\u2514\u2500sdb2   8:18   0 446.6G  0 part </span><br><span class="line">sdd      8:48   0  65.6T  0 disk </span><br><span class="line">sde      8:64   0 931.3G  0 disk </span><br><span class="line">sdf      8:80   0   952M  0 disk </span><br><span class="line">sr0     11:0    1   968M  0 rom </span><br></pre></td></tr></table></figure>

<p>fdisk -l</p>
<p>&#x2F;&#x2F;查看网卡</p>
<p>lshw -c network</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*-network</span><br><span class="line">     description: Ethernet interface</span><br><span class="line">     physical id: 3</span><br><span class="line">     logical name: eth0</span><br><span class="line">     serial: b6:21:44:09:fb:e2</span><br><span class="line">     size: 10Gbit/s</span><br><span class="line">     capabilities: ethernet physical</span><br><span class="line">     configuration: autonegotiation=off broadcast=yes driver=veth driverversion=1.0 duplex=full ip=172.31.76.102 link=yes multicast=yes port=twisted pair speed=10Gbit/s</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>&#x2F;&#x2F;查看虚拟机网络端口地址，作为后续xshell连接的主机地址<br>ifconfig</p>
<p>inet 172.31.76.102  netmask 255.255.0.0  broadcast 172.31.255.255</p>
<blockquote>
<p>github加速</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://ghproxy.com/">https://ghproxy.com/</a></p>
<h2 id="v02-初始配置"><a href="#v02-初始配置" class="headerlink" title="v02_初始配置"></a>v02_初始配置</h2><h3 id="设置root密码"><a href="#设置root密码" class="headerlink" title="设置root密码"></a>设置root密码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br><span class="line">su root</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>



<h3 id="换软件源-1"><a href="#换软件源-1" class="headerlink" title="换软件源"></a>换软件源</h3><p><a target="_blank" rel="noopener" href="https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/">ubuntu | 镜像站使用帮助 | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.aliyun.com/mirror/ubuntu?spm=a2c6h.13651102.0.0.3e221b11YgAWt2">https://developer.aliyun.com/mirror/ubuntu?spm=a2c6h.13651102.0.0.3e221b11YgAWt2</a><br><a target="_blank" rel="noopener" href="http://mirrors.ustc.edu.cn/help/ubuntu.html">http://mirrors.ustc.edu.cn/help/ubuntu.html</a><br><a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">shell</span><br><span class="line">sudo vi /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line">vi</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">shell</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br><span class="line">sudo apt --fix-broken install</span><br><span class="line">sudo apt autoremove</span><br></pre></td></tr></table></figure>











<h3 id="安装Inte驱动"><a href="#安装Inte驱动" class="headerlink" title="安装Inte驱动"></a>安装Inte驱动</h3><p>lshw -c video</p>
<blockquote>
<p>Intel GPU</p>
</blockquote>
<p>lspci -k | grep -EA3 ‘VGA|3D|Display’</p>
<blockquote>
<p>intel wifi</p>
</blockquote>
<p>查看内核版本：</p>
<p>uname -sr<br>查看网卡工作情况：</p>
<p>ps -A | grep NetworkManager<br>查看网卡具体型号：</p>
<p>sudo lspci -vvnn | grep -A 9 Network<br>下载驱动<br>根据型号从INTEL官网上下载linux驱动</p>
<p><a target="_blank" rel="noopener" href="https://www.intel.com/content/www/us/en/support/articles/000005511/network-and-i-o/wireless-networking.html">https://www.intel.com/content/www/us/en/support/articles/000005511/network-and-i-o/wireless-networking.html</a></p>
<p>Intel Corporation Wireless-AC 9560 [Jefferson Peak] (rev 10)</p>
<h3 id="NVIDIA-GPU"><a href="#NVIDIA-GPU" class="headerlink" title="NVIDIA GPU"></a>NVIDIA GPU</h3><blockquote>
<p>view GPU</p>
</blockquote>
<p>lspci | grep -i nvidia<br>NVIDIA Corporation TU117M [GeForce GTX 1650 Mobile &#x2F; Max-Q] (rev a1)</p>
<blockquote>
<p>download driver</p>
</blockquote>
<p>添加ppa</p>
<p>sudo add-apt-repository ppa:graphics-drivers&#x2F;ppa<br>sudo apt update</p>
<p>安装推荐的</p>
<p>ubuntu-drivers devices</p>
<p>我选择driver510，因为对应CUDA11.6</p>
<p>sudo apt install nvidia-driver-510</p>
<p>重启</p>
<p>nvidia-smi</p>
<p>有显示</p>
<h3 id="深度学习环境配置这一篇足矣"><a href="#深度学习环境配置这一篇足矣" class="headerlink" title="深度学习环境配置这一篇足矣"></a>深度学习环境配置这一篇足矣</h3><p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=Mzg4Njc1OTAwMQ==&mid=2247483982&idx=3&sn=9e4215bf2d28205eb06cf8165417e10e&chksm=cf958978f8e2006e78e0c1b90445facef7e4c4574bbbeeaea2153115701aa2b1c64ea0ab9ee1&cur_album_id=2512015528291516417&scene=189#wechat_redirect">https://mp.weixin.qq.com/s?__biz=Mzg4Njc1OTAwMQ==&amp;mid=2247483982&amp;idx=3&amp;sn=9e4215bf2d28205eb06cf8165417e10e&amp;chksm=cf958978f8e2006e78e0c1b90445facef7e4c4574bbbeeaea2153115701aa2b1c64ea0ab9ee1&amp;cur_album_id=2512015528291516417&amp;scene=189#wechat_redirect</a></p>
<h3 id="GPU-driver-cuda-cudnn"><a href="#GPU-driver-cuda-cudnn" class="headerlink" title="GPU driver + cuda + cudnn"></a>GPU driver + cuda + cudnn</h3><blockquote>
<p>drive510r</p>
</blockquote>
<p>nvidia-smi</p>
<p>有显示说明驱动装好了</p>
<blockquote>
<p>CUDA11.6</p>
</blockquote>
<p>我们想下载cuda11.6</p>
<p><a target="_blank" rel="noopener" href="https://developer.nvidia.com/cuda-11-6-0-download-archive?target_os=Linux&target_arch=x86_64&Distribution=Ubuntu&target_version=20.04&target_type=runfile_local">https://developer.nvidia.com/cuda-11-6-0-download-archive?target_os=Linux&amp;target_arch=x86_64&amp;Distribution=Ubuntu&amp;target_version=20.04&amp;target_type=runfile_local</a></p>
<p>我们下载runfile</p>
<p>保留原有的driver</p>
<p>Continue</p>
<p>accept</p>
<p>install</p>
<p>yes</p>
<p>然后设置环境变量</p>
<p>sudo vi ~&#x2F;.bashrc</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export CUDA_HOME=/usr/local/cuda</span><br><span class="line">export LD_LIBRARY_PATH=$&#123;LD_LIBRARY_PATH&#125;:&#123;CUDA_HOME&#125;/lib64</span><br><span class="line">export PATH=$&#123;CUDA_HOME&#125;/bin:$&#123;PATH&#125;</span><br></pre></td></tr></table></figure>

<p>然后刷新环境变量</p>
<p>source  ~&#x2F;.bashrc</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc --version</span><br></pre></td></tr></table></figure>

<p>有输出cuda11.6</p>
<blockquote>
<p>CUDNN11.x</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.nvidia.com/rdp/cudnn-download">https://developer.nvidia.com/rdp/cudnn-download</a></p>
<p>我们下载linux-x86</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf cudnn-linux-x86_64-8.7.0.84_cuda11-archive.tar.xz </span><br><span class="line">sudo cp cudnn-linux-x86_64-8.7.0.84_cuda11-archive/include/cudnn*.h /usr/local/cuda/include</span><br><span class="line">sudo cp -P cudnn-linux-x86_64-8.7.0.84_cuda11-archive/lib/libcudnn* /usr/local/cuda/lib64</span><br><span class="line">sudo chmod a+r /usr/local/cuda/include/cudnn*.h /usr/local/cuda/lib64/libcudnn*</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>cat &#x2F;usr&#x2F;local&#x2F;cuda&#x2F;include&#x2F;cudnn_version.h | grep CUDNN_MAJOR -A 2</p>
<p>有输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#define CUDNN_MAJOR 8</span><br><span class="line">#define CUDNN_MINOR 7</span><br><span class="line">#define CUDNN_PATCHLEVEL 0</span><br><span class="line">--</span><br><span class="line">#define CUDNN_VERSION (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="conda-pytorch-vscode"><a href="#conda-pytorch-vscode" class="headerlink" title="conda + pytorch+ vscode"></a>conda + pytorch+ vscode</h3><blockquote>
<p>conda</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.anaconda.com/products/distribution/start-coding-immediately">https://www.anaconda.com/products/distribution/start-coding-immediately</a></p>
<p>yes</p>
<p>&#x2F;opt&#x2F;anaconda3</p>
<p>yes</p>
<p><strong>添加环境变量:</strong></p>
<p>sudo vi ~&#x2F;.bashrc</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/opt/anaconda3/bin</span><br></pre></td></tr></table></figure>

<p>source ~&#x2F;.bashrc</p>
<p>conda</p>
<p>有输出</p>
<p>重启terminal</p>
<p>conda init</p>
<p>conda create -n pytorch python&#x3D;3.7</p>
<p>conda activate pytorch</p>
<blockquote>
<p>pytorch</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://pytorch.org/get-started/locally/">https://pytorch.org/get-started/locally/</a></p>
<p>conda install pytorch torchvision torchaudio pytorch-cuda&#x3D;11.6 -c pytorch -c nvidia</p>
<h3 id="下载美化"><a href="#下载美化" class="headerlink" title="下载美化"></a>下载美化</h3><p>kubuntu<br><a target="_blank" rel="noopener" href="https://iitii.github.io/2020/08/19/1/">https://iitii.github.io/2020/08/19/1/</a></p>
<p>xubuntu<br>xfce-look.org</p>
<p>ubuntu</p>
<p>gnome</p>
<h2 id="v03-安装必备软件"><a href="#v03-安装必备软件" class="headerlink" title="v03_安装必备软件"></a>v03_安装必备软件</h2><h3 id="安装必备包"><a href="#安装必备包" class="headerlink" title="安装必备包"></a>安装必备包</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install aptitude gparted make git gcc g++ gdb curl unzip</span><br><span class="line">sudo tasksel</span><br><span class="line">sudo apt install aptitude</span><br><span class="line">sudo apt-get install gparted</span><br><span class="line">sudo apt-get install ntfs-3g</span><br><span class="line">sudo apt-get install vim</span><br><span class="line">sudo apt-get install gedit</span><br><span class="line">sudo apt-get install make</span><br><span class="line">sudo apt-get install git</span><br><span class="line">sudo apt-get install gcc g++ gdb</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install fcitx</span><br><span class="line">im-config</span><br><span class="line">智能拼音</span><br><span class="line">log out</span><br></pre></td></tr></table></figure>


<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove fcitx*</span><br><span class="line">安装ibus框架。</span><br><span class="line">sudo apt-get install ibus ibus-clutter ibus-gtk ibus-gtk3 ibus-qt4</span><br><span class="line">启用ibus框架。</span><br><span class="line">im-config -s ibus</span><br><span class="line">重启系统或者注销当前账户。</span><br><span class="line">安装相应输入法(以安装拼音输入法为例)。</span><br><span class="line">sudo apt-get install ibus-pinyin</span><br><span class="line">附常见几种输入法</span><br><span class="line">IBus拼音：sudo apt-get install ibus-pinyin</span><br><span class="line">IBUS五笔：sudo apt-get install ibus-table-wubi</span><br><span class="line">谷歌拼音输入法：sudo apt-get install ibus-googlepinyin</span><br><span class="line">Sun拼音输入法：sudo apt-get install ibus-sunpinyin</span><br><span class="line">添加中文输入法，修改输入法切换快捷键。</span><br><span class="line">1.通过ibus-setup 命令设置ibus框架，添加已经安装胡输入法;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//下载星火应用商店</span><br><span class="line">https://www.spark-app.store/</span><br><span class="line">typora</span><br><span class="line">wps</span><br><span class="line">vscode</span><br><span class="line">//浏览器edge chrome</span><br><span class="line">sudo apt install ./</span><br><span class="line">//剪切板</span><br><span class="line">sudo apt install copyq</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="宝塔（非必要不安装，更不能安装ssh）"><a href="#宝塔（非必要不安装，更不能安装ssh）" class="headerlink" title="宝塔（非必要不安装，更不能安装ssh）"></a>宝塔（非必要不安装，更不能安装ssh）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh https://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh ed8484bec</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bt default</span><br><span class="line"></span><br><span class="line">????????????: http://[2001:da8:d800:75::aaaa]:11003/35db88fb</span><br><span class="line">????????????: http://172.31.231.129:11003/35db88fb</span><br><span class="line">username: 0q8zccmg</span><br><span class="line">password: 33943113</span><br><span class="line"></span><br></pre></td></tr></table></figure>









<h3 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ufw</span><br><span class="line"></span><br><span class="line">sudo ufw status</span><br><span class="line"></span><br><span class="line">sudo ufw enable</span><br><span class="line">sudo ufw allow 8000</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="natapp"><a href="#natapp" class="headerlink" title="natapp"></a>natapp</h3><p><a target="_blank" rel="noopener" href="https://natapp.cn/member/dashborad">https://natapp.cn/member/dashborad</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">chmod a+x natapp</span><br><span class="line"></span><br><span class="line">./natapp -authtoken=faec6ac9da0b03fb -config=config.ini</span><br><span class="line"></span><br><span class="line">nohup ./natapp -authtoken=faec6ac9da0b03fb -log=stdout -loglevel=ERROR &amp;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Powered By NATAPP       Please visit https://natapp.cn          (Ctrl+C to Quit)</span><br><span class="line">                           </span><br><span class="line">Tunnel Status           Online                                    </span><br><span class="line">Version                 2.3.9                                    </span><br><span class="line">Forwarding              http://dhruh3.natappfree.cc -&gt; 127.0.0.1:8090          </span><br><span class="line">Web Interface           Disabled                                        </span><br><span class="line">Total Connections       0                       </span><br></pre></td></tr></table></figure>



<h3 id="cpolar"><a href="#cpolar" class="headerlink" title="cpolar"></a>cpolar</h3><p><a target="_blank" rel="noopener" href="https://www.cpolar.com/blog/linux-system-installation-cpolar">https://www.cpolar.com/blog/linux-system-installation-cpolar</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">curl -L https://www.cpolar.com/static/downloads/install-release-cpolar.sh | sudo bash</span><br><span class="line"></span><br><span class="line">cpolar version</span><br><span class="line"></span><br><span class="line">cpolar authtoken M2VkMjU2MzktOWQ4ZC00YmNmLTk5M2ItMjE4MzM3NDA4MjE5</span><br><span class="line"></span><br><span class="line">cpolar http 8080</span><br><span class="line"></span><br><span class="line">sudo systemctl enable cpolar</span><br><span class="line"></span><br><span class="line">sudo systemctl start cpolar</span><br><span class="line"></span><br><span class="line">sudo systemctl status cpolar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">remove</span><br><span class="line">curl -L https://www.cpolar.com/static/downloads/install-release-cpolar.sh | sudo bash -s -- --remove</span><br><span class="line"></span><br><span class="line">view state</span><br><span class="line">http://127.0.0.1:9200</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h3 id="ssh（不要重复ssh）"><a href="#ssh（不要重复ssh）" class="headerlink" title="ssh（不要重复ssh）"></a>ssh（不要重复ssh）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -i %HOMEPATH%/_ssh/vlab-vm6585.pem ubuntu@vlab.ustc.edu.cn</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Host ldlsldls03</span><br><span class="line">    HostName vlab.ustc.edu.cn</span><br><span class="line">    User ubuntu</span><br><span class="line">    Port 22</span><br><span class="line">    IdentityFile %HOMEPATH%/_ssh/vlab-vm6585.pem</span><br><span class="line">    ForwardAgent yes</span><br></pre></td></tr></table></figure>





<h3 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h3><p>参考教程：<a target="_blank" rel="noopener" href="https://linux.cn/article-14871-1.html">容器与云|如何在 Ubuntu 22.04 LTS 中安装 Docker 和 Docker Compose (linux.cn)</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://get.docker.com -o get-docker.sh</span><br><span class="line">sudo sh get-docker.sh</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl status docker</span><br><span class="line">sudo systemctl start docker</span><br><span class="line">sudo docker version</span><br></pre></td></tr></table></figure>



<p>列出所有本地镜像：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>

<p>列出正在运行的容器：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure>

<p>列出所有容器（无论是否在运行）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>

<p>删除容器和镜像</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker stop $(docker ps -a -q)</span><br><span class="line">docker rm $(docker ps -a -q)</span><br><span class="line">docker rmi $(docker images -q)</span><br></pre></td></tr></table></figure>



<h3 id="安装typecho"><a href="#安装typecho" class="headerlink" title="安装typecho"></a>安装typecho</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 /usr/uploads</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h3 id="安装-halo"><a href="#安装-halo" class="headerlink" title="安装 halo"></a>安装 halo</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo docker pull halohub/halo:2.5</span><br><span class="line"></span><br><span class="line">sudo mkdir halo &amp;&amp; cd halo</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run \</span><br><span class="line">  -it -d \</span><br><span class="line">  --name halo \</span><br><span class="line">  -p 8090:8090 \</span><br><span class="line">  -v /home/halo/.halo2:/root/.halo2 \</span><br><span class="line">  halohub/halo:2.5 \</span><br><span class="line">  --halo.external-url=http://localhost:8090/ \</span><br><span class="line">  --halo.security.initializer.superadminusername=ldlsldls \</span><br><span class="line">  --halo.security.initializer.superadminpassword=444</span><br></pre></td></tr></table></figure>



<p>netapp</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup ./natapp -authtoken=faec6ac9da0b03fb -log=stdout -loglevel=ERROR &amp;</span><br></pre></td></tr></table></figure>



<h3 id="安装code-server"><a href="#安装code-server" class="headerlink" title="安装code server"></a>安装code server</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"># 进入服务器</span><br><span class="line">mkdir coder &amp;&amp; cd coder</span><br><span class="line"></span><br><span class="line">sudo su</span><br><span class="line"># 拉取镜像</span><br><span class="line">docker pull codercom/code-server:latest</span><br><span class="line"># 创建物理机所需要的映射目录</span><br><span class="line"></span><br><span class="line">mkdir -p /home/coder/.config</span><br><span class="line">mkdir -p /home/coder/www</span><br><span class="line">mkdir -p ~/.config</span><br><span class="line">mkdir -p ~/project_linux/coder/project</span><br><span class="line"></span><br><span class="line"># 创建容器</span><br><span class="line"># -p 8080:8080映射端口，可映射多个</span><br><span class="line">docker run -d -it --name code-server \</span><br><span class="line">	-p 18080:8080 \</span><br><span class="line">    -v &quot;$HOME/.config:/home/coder/.config&quot; \</span><br><span class="line">    -v &quot;$HOME/project_linux/coder/project:/home/coder/www&quot; \</span><br><span class="line">    -u &quot;$(id -u):$(id -g)&quot; \</span><br><span class="line">    -e &quot;DOCKER_USER=$USER&quot; \</span><br><span class="line">    -e PASSWORD=4 \</span><br><span class="line">	-e SUDO_PASSWORD=4 \</span><br><span class="line">	-u=root \</span><br><span class="line">	--privileged=true \</span><br><span class="line">    codercom/code-server:latest</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">chmod -R 777 /var/coder/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># view log</span><br><span class="line">docker logs code-server</span><br><span class="line"></span><br><span class="line"># pw</span><br><span class="line">cat /var/.config/code-server/config.yaml</span><br></pre></td></tr></table></figure>









<h3 id="node"><a href="#node" class="headerlink" title="node"></a>node</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br><span class="line"></span><br><span class="line">node -v</span><br><span class="line"></span><br><span class="line">sudo apt-get install npm</span><br><span class="line"></span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>

















<h2 id="v04-sudo常用命令"><a href="#v04-sudo常用命令" class="headerlink" title="v04_sudo常用命令"></a>v04_sudo常用命令</h2><h3 id="ubuntu的文件目录的含义："><a href="#ubuntu的文件目录的含义：" class="headerlink" title="ubuntu的文件目录的含义："></a><strong>ubuntu的文件目录的含义：</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//软件安装目录，相当于C盘</span><br><span class="line">cd /usr/local/</span><br><span class="line">//相当于D盘</span><br><span class="line">Cd /opt</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作:"></a><strong>文件操作:</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br><span class="line">ll</span><br><span class="line">ll -a</span><br><span class="line">mkdir xxx</span><br><span class="line">touch xxx.txt</span><br><span class="line">cd xxx</span><br><span class="line">cd xxx/xxx</span><br><span class="line">cd /</span><br><span class="line">cd ~</span><br><span class="line">cd ./xxx</span><br><span class="line"></span><br><span class="line">rm xxx.txt</span><br><span class="line">rm -rf xxx</span><br><span class="line">-d：直接把欲删除的目录的硬连接数据删除成0，删除该目录；</span><br><span class="line">-f：强制删除文件或目录；</span><br><span class="line">-i：删除已有文件或目录之前先询问用户；</span><br><span class="line">-r：递归处理，将指定目录下的所有文件与子目录一并处理；</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="挂载而且可正常读写"><a href="#挂载而且可正常读写" class="headerlink" title="挂载而且可正常读写"></a>挂载而且可正常读写</h3><p>查看磁盘ID</p>
<p>lsblk</p>
<p>sudo mount -t ntfs &#x2F;dev&#x2F;sda2 &#x2F;mnt&#x2F;Data<br>sudo mount -t ntfs-3g &#x2F;dev&#x2F;sda3 &#x2F;home&#x2F;WinP</p>
<h3 id="修改挂载文件夹权限："><a href="#修改挂载文件夹权限：" class="headerlink" title="修改挂载文件夹权限："></a>修改挂载文件夹权限：</h3><p>cd &#x2F;home&#x2F;ldl</p>
<p>可读</p>
<p>sudo chown -R ldl &#x2F;media&#x2F;ldl&#x2F;Data</p>
<p>可读写</p>
<p>sudo chmod 777 &#x2F;home&#x2F;fpi&#x2F;data<br>fuser -a &#x2F;dev&#x2F;sda3<br>fuser -k &#x2F;dev&#x2F;sda3</p>
<h3 id="删除文件夹"><a href="#删除文件夹" class="headerlink" title="删除文件夹"></a>删除文件夹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm -rf iverilog</span><br></pre></td></tr></table></figure>





<h3 id="查看进程"><a href="#查看进程" class="headerlink" title="查看进程"></a>查看进程</h3><p>ps -aux </p>
<p>ps -aux | grep chrome</p>
<p>top</p>
<h3 id="关闭进程"><a href="#关闭进程" class="headerlink" title="关闭进程"></a>关闭进程</h3><p>killall   (program应用名称)  </p>
<p>xkill</p>
<h2 id="v05-博客系统"><a href="#v05-博客系统" class="headerlink" title="v05_博客系统"></a>v05_博客系统</h2><p><a target="_blank" rel="noopener" href="https://yushuaigee.gitee.io/2020/12/31/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%85%8D%E8%B4%B9%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2(%E4%B8%80)%E2%80%94%E2%80%94%E6%9C%AC%E5%9C%B0%E6%90%AD%E5%BB%BAhexo%E6%A1%86%E6%9E%B6/">从零开始免费搭建自己的博客(一)——本地搭建hexo框架 | 半亩方塘 (gitee.io)</a></p>
<h4 id="1安装node"><a href="#1安装node" class="headerlink" title="1安装node"></a>1安装node</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cmd</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>



<h4 id="2git"><a href="#2git" class="headerlink" title="2git"></a>2git</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cmd</span><br><span class="line">git -v</span><br></pre></td></tr></table></figure>



<h4 id="3安装hexo"><a href="#3安装hexo" class="headerlink" title="3安装hexo"></a>3安装hexo</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#下载hexo</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line"></span><br><span class="line">#初始化</span><br><span class="line">hexo init blog</span><br><span class="line">cd blog</span><br><span class="line"></span><br><span class="line">#下载依赖</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line">#生成网页</span><br><span class="line">hexo g &amp;&amp; hexo s</span><br><span class="line">http://localhost:4000/</span><br><span class="line"></span><br><span class="line">#新建文章</span><br><span class="line">hexo new &quot;博客搭建&quot;</span><br><span class="line">hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>





<h4 id="4下载主题"><a href="#4下载主题" class="headerlink" title="4下载主题"></a>4下载主题</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git clone https://gitee.com/mirrors/ayer.git themes/ayer</span><br><span class="line"></span><br><span class="line"># _config.yml</span><br><span class="line">theme: ayer</span><br><span class="line"></span><br><span class="line"># /themes/ayer/_config.yml</span><br><span class="line">按照教程中的修改</span><br><span class="line"></span><br><span class="line"># 清理 &amp;&amp; 生成 &amp;&amp; 启动</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://ghproxy.com/https://github.com/stiekel/hexo-theme-random.git themes/random</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/iHongRen/legend themes/legend</span><br><span class="line"></span><br><span class="line">theme: legend</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/c/Users/ldl/.ssh/id_rsa.pub</span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCvWBQQecXDW/hLYE4pynKqLucEUtnLeqV20P5Ru/xmA7W7TyNuAK0MZTPuNKUZya+ST0kGZDAHJ35CScado6BUKxjySWgfH0iUuLOCt/t3IgKWK7dKLwjYAoxciCP4mgYbGY4q8dXLaQARyAOJNWdYTJwjzU0Cmz2bydTI0/WbwqspY5Qymv+qK+Pg7bLFyPubNE0IDqjFo1fB7pjU1mDShYHqnsNQxRh8OV0pjqAqiVglDJ5qFUNZUOzgSL3344YTUk7U3vlrAu6hYe/wP+ZrN1BNI9vHh5e0xRY4LFplHrFyJh5norSBw4G+hKP1rYDDBl/zTlNNUPMUt1FgpFSwII+Ji0BolwbP9U+/0W501DzFJ6iuNRkTBV123alUi+u7p3kjHCnJPt3ExjrVbMxVe8geJZSPhJMdh3z/gQytKGrf2MienFIUnU3+E89dmJz1aPsVTNJXFa58dC+SFo4pv1vGeWH8ze8Rm/g671doDVXD0GCfs731jVCoPY6l+0E= 1738069568@qq.com</span><br><span class="line"></span><br><span class="line"># 其中 xxxxxx 是前面多次用到的你的GitHub用户名</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:ldlsdls/ldlsldls.github.io.git</span><br><span class="line">  branch: main</span><br><span class="line">  </span><br><span class="line">  # 注意最后变成d了，原来的s表示服务起在本地，现在的d表示部署在远端</span><br><span class="line">hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1594769">Git报错解决：git@gitee.com: Permission denied (publickey). - 腾讯云开发者社区-腾讯云 (tencent.com)</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;1738069568@qq.com&quot;</span><br><span class="line"></span><br><span class="line">cat ~/.ssh/id_rsa.pub</span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC9hK6e8zBBNImC54b4aD9PrTrt9oXYsnFABG625/pj8K1TbmfRC2JyArNcEoRKsYea3LmOKw1RT7z1LwJSJ1E5T0b9Bs/OJoPsV7/dyw5Eerbgpvs7gaN3pFmTE913zfMb37FNBePMweOVxVfl7Yb7qgCwFHTNbJEdYmNuoac2r2xFy6xxpSidrWjK4xlJFUMA4DY6x/xW3+IIbmDNl5tlabVkfdPomeRjgQBxwDIPJKYGEI0njmBKBqqMmL4WjeGTY7ZAzYTXT0ezRiq4rDbw4bZN28+oJBWizK15aXh7Eo2muoT0KvNlZdz8ADiaF63wxWoSDvuXBZrFtJgAhH8AMkJYGmzCiSJaVkRjOZWeag8I5FXNI9gWeV++e6Ee+CdR8+lrb483Swwm4umJAnpvV6gy7t1UbIE44sIyAi3tV8V32M2Yi7WjxfRhJLE/+podo7fvYbGa5aaIhFsQhCr2wn7+1rQb5VXVtA70q0ZWoh4FBCG8EUFJP54vnDR8j8U= 1738069568@qq.com</span><br><span class="line"></span><br><span class="line">ssh -T git@gitee</span><br><span class="line"></span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@gitee.com:ldlsldls/l.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git@gitlab.com:ldlsldls/blog.git</span><br><span class="line"></span><br><span class="line">npm install hexo-deployer-g</span><br></pre></td></tr></table></figure>



























<h2 id="BUG解决"><a href="#BUG解决" class="headerlink" title="BUG解决"></a>BUG解决</h2><h3 id="文件只读不可写"><a href="#文件只读不可写" class="headerlink" title="文件只读不可写"></a>文件只读不可写</h3><p>描述：</p>
<p>The disk contains an unclean file system (0, 0).<br>Metadata kept in Windows cache, refused to mount</p>
<p>解决：</p>
<p>看博客</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42396285/article/details/116735098">https://blog.csdn.net/weixin_42396285/article/details/116735098</a></p>
<p>在Ubuntu Linux上，NTFSFix应用程序无法使用其特定包进行安装，相反，添加了对Microsoft Windows NTFS文件系统的支持的Ntfs-3g软件包也将提供NTFS修复应用程序。</p>
<p>要在Ubuntu系统上安装Ntfs-3g软件包，请使用下面的Apt命令：</p>
<p>sudo apt install ntfs-3g</p>
<p>lsblk</p>
<p>sudo ntfsfix &#x2F;dev&#x2F;sda1</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/09/05/ubuntu-sudo%E5%91%BD%E4%BB%A4/" data-id="clm6td2ew00007gucco6r6sfz" data-title="ubuntu-sudo命令" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/09/05/ubuntu-sudo%E5%91%BD%E4%BB%A4/">ubuntu-sudo命令</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 ldlsldls<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>